<!-- html5 카메라로 연결--->

<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="script.js"></script>
    <title>월드플레이 - Rule,Role,Play Your World!</title>
  </head>
  <body style="background-color:#E8C585">
    <div id="game-title">
      <h1>삼봉 정도전의 두번째 미션: 경복궁설계 - 근정전</h1>
    </div>

    <br>
    <br>

  <div class="storyquest">
    <img src="김학수북궐도.jpg" alt="경복궁 내부지도">
    <p> 왕의 밝은 은혜가 아래로 온누리에 두루 미칠 수 있도록 어떻게 할 수 있을까? <br>


      <input type="file" accept="image/*" capture>

      <video id="player" controls autoplay></video>
<br>
<br>

<button id="capture" class="btn btn-primary">Capture</button>
<canvas id="snapshot" width=320 height=240></canvas>

<br>
<br>

<button type="button" class="btn btn-primary" name="button" onclick="go();">넘어가기</button> <br><br>
<script>
  var player = document.getElementById('player');
  var snapshotCanvas = document.getElementById('snapshot');
  var captureButton = document.getElementById('capture');
  var videoTracks;

  var handleSuccess = function(stream) {
    // Attach the video stream to the video element and autoplay.
    player.srcObject = stream;
    videoTracks = stream.getVideoTracks();
  };

  captureButton.addEventListener('click', function() {
    var context = snapshot.getContext('2d');
    // Draw the video frame to the canvas.
    context.drawImage(player, 0, 0, snapshotCanvas.width,
        snapshotCanvas.height);
  });

  navigator.mediaDevices.getUserMedia({video: true})
      .then(handleSuccess);


  captureButton.addEventListener('click', function() {
    var context = snapshot.getContext('2d');
    context.drawImage(player, 0, 0, snapshotCanvas.width, snapshotCanvas.height);

    // Stop all video streams.
    videoTracks.forEach(function(track) {track.stop()});
  });

  navigator.mediaDevices.getUserMedia({video: true})
      .then(handleSuccess);

      function go(){
        location.replace("metroJoseon_scene34.html");
      }
</script>
  </body>
</html>
